# AITM Production Environment Configuration
# Copy this file to .env.prod and fill in your production values
# NEVER commit .env.prod to version control

# ==================================
# Security Configuration
# ==================================
JWT_SECRET_KEY=your-super-secure-jwt-secret-key-min-32-chars
DB_PASSWORD=your-super-secure-database-password-min-16-chars
GRAFANA_PASSWORD=your-secure-grafana-admin-password

# ==================================
# AI Service API Keys  
# ==================================
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
GOOGLE_API_KEY=your-google-api-key-here

# ==================================
# Monitoring & Error Tracking
# ==================================
SENTRY_DSN=https://your-sentry-dsn-url-here
PROMETHEUS_ENABLED=true

# ==================================
# Email Configuration (Optional)
# ==================================
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASSWORD=your-email-password
SMTP_FROM_EMAIL=noreply@aitm.local

# ==================================
# SSL/TLS Configuration
# ==================================
SSL_CERT_PATH=/ssl/cert.pem
SSL_KEY_PATH=/ssl/private.key
ACME_EMAIL=admin@your-domain.com

# ==================================
# Backup Configuration
# ==================================
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
S3_BACKUP_BUCKET=your-backup-bucket-name
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ==================================
# Rate Limiting
# ==================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=300
RATE_LIMIT_BURST=20

# ==================================
# File Upload Limits
# ==================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,json,xml,csv

# ==================================
# Logging Configuration
# ==================================
LOG_LEVEL=WARNING
LOG_FORMAT=json
LOG_RETENTION_DAYS=90

# ==================================
# Domain Configuration
# ==================================
DOMAIN=aitm.local
API_DOMAIN=api.aitm.local
TRAEFIK_DOMAIN=traefik.aitm.local

# ==================================
# Application Configuration
# ==================================
ENVIRONMENT=production
DEBUG=false
CORS_ORIGINS=https://aitm.local,https://api.aitm.local
ALLOWED_HOSTS=aitm.local,api.aitm.local,localhost

# ==================================
# Database Configuration
# ==================================
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ==================================
# Redis Configuration
# ==================================
REDIS_MAX_CONNECTIONS=100
REDIS_DB=0
CACHE_TTL=3600
SESSION_TTL=86400

# ==================================
# Health Check Configuration
# ==================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ==================================
# Security Headers
# ==================================
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
ENABLE_CSP=true
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline'"
CSP_STYLE_SRC="'self' 'unsafe-inline'"

# ==================================
# Session Configuration
# ==================================
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=strict
SESSION_MAX_AGE=3600

# ==================================
# API Configuration
# ==================================
API_PREFIX=/api/v1
API_TITLE=AITM API
API_VERSION=1.0.0
API_DOCS_URL=null  # Disable docs in production
API_REDOC_URL=null  # Disable redoc in production

# ==================================
# Worker Configuration
# ==================================
WORKER_PROCESSES=2
WORKER_THREADS=4
WORKER_TIMEOUT=300
WORKER_MAX_REQUESTS=1000
WORKER_PRELOAD=true

# ==================================
# Backup Encryption
# ==================================
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key-32-chars-min
BACKUP_COMPRESSION=gzip

# ==================================
# Compliance & Auditing
# ==================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance
PCI_COMPLIANCE_MODE=true
GDPR_COMPLIANCE_MODE=true

# ==================================
# Performance Tuning
# ==================================
ASYNC_POOL_SIZE=100
HTTP_TIMEOUT=30
DB_QUERY_TIMEOUT=30
CACHE_POOL_SIZE=50

# ==================================
# Monitoring Thresholds
# ==================================
CPU_THRESHOLD=80
MEMORY_THRESHOLD=80
DISK_THRESHOLD=90
RESPONSE_TIME_THRESHOLD=2000

# ==================================
# Feature Flags
# ==================================
FEATURE_ENHANCED_AI=true
FEATURE_ANALYTICS=true
FEATURE_REPORTS=true
FEATURE_BATCH_PROCESSING=true
FEATURE_API_V2=false

# ==================================
# External Service URLs
# ==================================
MITRE_API_URL=https://attack.mitre.org/api
CVE_API_URL=https://services.nvd.nist.gov/rest/json
THREAT_INTEL_API_URL=https://your-threat-intel-provider.com/api

# ==================================
# Load Balancer Configuration
# ==================================
PROXY_COUNT=2
STICKY_SESSIONS=false
HEALTH_CHECK_PATH=/api/v1/health
